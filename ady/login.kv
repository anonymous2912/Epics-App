# there are three screens
windowManager:
    loginWindow:
    signupWindow:
    logDataWindow:
    dashboardWindow:

# GUI for the login window
<loginWindow>:
    email : email
    pwd : pwd
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            #source: "bg.jpg"   <!uncomment for background image>
    FloatLayout:
        size: root.width, root.height
        #Label:
         #   text : "EMAIL: "
          #  size_hint : 0.2, 0.1
           # pos_hint : {"x":0.25, "top":0.9}
        MDCard:
            size_hint: None, None
            size: 300, 400
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            elevation: 12
            radius: 10
            padding: 25
            spacing: 25
            orientation: 'vertical'

            MDLabel:
                id: welcome_label
                text: "WELCOME"
                font_size: 40
                halign: 'center'
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 15

            MDTextField:
                id : email
                hint_text: "e-mail"
                mode: "rectangle"
                icon_left: "email"
                multiline :False
                #font_size: 14
                size_hint_y: None
                padding_y: [5,5]
                pos_hint : {"ceter_x": 0.5}
            #Label:
            #   text : "PASSWORD: "
            #  size_hint : 0.2, 0.1
            # pos_hint : {"x" : 0.25, "top" : 0.7}
            
            MDTextField:
                id : pwd
                hint_text: "password"
                mode: "rectangle"
                icon_left: "eye-off"
                multiline :False
                size_hint_y: None
                password: True
                pos_hint : {"ceter_x": 0.5}
            
            MDRoundFlatButton:
                text : "Create an account"
                pos_hint : {"center_x": 0.5}
                on_release:
                    app.root.current = 'signup'
                    root.manager.transition.direction = "left"
            
            MDRoundFlatButton:
                text : "LOGIN"
                pos_hint : {"center_x": 0.5}
                font_size: 12
                on_release:
                    root.validate()
                    root.manager.transition.direction = "up"
            


# GUI for the signup window
<signupWindow>:
    name2 : name2
    email : email
    pwd : pwd
    FloatLayout:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                #source: "bg.jpg"

        MDCard:
            size_hint: None, None
            size: 300, 400
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            elevation: 10
            radius: 10
            padding: 25
            spacing: 25
            orientation: 'vertical'

            MDLabel:
                id: signup_label
                text: "Sign-up"
                font_size: 40
                halign: 'center'
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 15
            
            MDTextField:
                id : name2
                hint_text: "username"
                mode: "fill"
                #icon_right: "eye-off"
                multiline : False
                size_hint_y : None
                pos_hint : {"center_x": 0.5}
            
            MDTextField:
                id : email
                hint_text: "email"
                mode: "fill"
                #icon_right: "eye-off"
                multiline : False
                size_hint_y : None
                pos_hint : {"center_x": 0.5}
            
            MDTextField:
                id : pwd
                hint_text: "password"
                mode: "fill"
                #icon_right: "eye-off"
                multiline : False
                size_hint_y : None
                pos_hint : {"center_x": 0.5}
            
            MDRoundFlatButton:
                text : "SUBMIT"
                pos_hint : {"center_x": 0.5}
                on_press :
                    root.signupbtn()
                    root.manager.transition.direction = "right"

# GUI to show validation result
<logDataWindow>:
    info : info
    FloatLayout:
        

        MDCard:
            size_hint: None, None
            size: 300, 400
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            elevation: 10
            radius: 10
            padding: 25
            spacing: 25
            orientation: 'vertical'

            MDLabel:
                id : info
                size_hint : 0.8, 0.2
                pos_hint : {"center_x": 0.5}
                text : "SUCCESSFULLY LOGGED IN"

            MDRoundFlatButton:
                text : "Get Started"
                size_hint_y : None
                pos_hint : {"center_x": 0.5}
                on_release:
                    app.root.current = 'dashboard'
                    root.manager.transition.direction = "down"

            
            #MDRoundFlatButton:
             #   text : "Create new account"
              # pos_hint : {"center_x": 0.5}
               # on_release:
                #    app.root.current = 'signup'
                 #   root.manager.transition.direction = "down"
            
            Widget:
                size_hint_y: None
                height: 10

# GUI for pop up window
<P>:
    Label:
        text : "Please enter valid information"
        size_hint : 0.2, 0.1
        pos_hint : {"x" : 0.3, "top" : 0.8}

<dashboardWindow>:
    MDScreen:
        #md_bg_color:56/255,40/255,81/255,1
        MDBoxLayout:
            orientation:'vertical'
            MDBoxLayout:
                size_hint_y:.25
                padding:dp(25)
                MDBoxLayout:
                    orientation:"vertical"
                    MDLabel:
                        text:"Welcome"
                        font_style:"H4"
                    MDBoxLayout:
                        adaptive_size:True
                        spacing:dp(10)
                        MDLabel:
                            text:"Home"
                            text_size:None,None
                            adaptive_width:True
                        MDIcon:
                            icon:'chevron-down'

                MDIconButton:
                    icon:"images/notification.png"
            MDGridLayout:
                size_hint_y:.75
                cols:2
                padding:[dp(15),dp(15),dp(15),dp(35)]
                spacing:dp(15)
                ElementCard:
                    image:"images/resized/hdiary.png"
                    text:"Diary"
                    subtext:"Your daily journal"

                ElementCard:
                    image:"images/resized/warning.png"
                    text:"Challenges"
                    subtext:"Self-care issues"

                ElementCard:
                    image:"images/resized/camera-dolly.png"
                    text:"Videos"
                    subtext:"Helpful videos"

                ElementCard:
                    image:"images/resized/data.png"
                    text:"Activity"
                    subtext:"Your mood chart"

                ElementCard:
                    image:"images/resized/accounting.png"
                    #size_hint: [2,2]
                    text:"Test"
                    subtext:"Mood Test"
                
                ElementCard:
                    image:"images/resized/spell-book2.png"
                    #size_hint: [3,3]
                    text:"Stories"
                    subtext:""
                
                ElementCard:
                    image:"images/resized/internet.png"
                    text:"Mood Wiki"
                    subtext:"All about depression"
                
                ElementCard:
                    image:"images/resized/settings.png"
                    text:"Setting"
                    subtext:""


<ElementCard@MDCard>:
    #md_bg_color:69/255,55/255,86/255,1
    padding:dp(15)
    spacing:dp(15)
    radius:dp(25)
    ripple_behavior: True
    image:''
    text:""
    items_count:""
    subtext:''

    orientation:'vertical'
    Image:
        source:root.image
        size_hint_min: None, None
    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            halign:"center"
            text:root.text
            font_style:"H6"
        MDLabel:
            halign:"center"
            font_style:"Caption"
            text:root.subtext
            